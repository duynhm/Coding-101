### Bài 71: Tính S(x, n) = -x + x²/(1+2) - x³/(1+2+3) + ... + (-1)^n × x^n/(1+2+3+...+n)

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/x, n/];
    B --> C[S = 0];
    C --> D[i = 1];
    D --> E{i <= n?};
    E -- Sai --> L[/Xuất S/];
    E -- Đúng --> F[tong_mau = 0];
    F --> G[j = 1];
    G --> H{j <= i?};
    H -- Sai --> I[dau = (-1)^i];
    H -- Đúng --> J[tong_mau = tong_mau + j];
    J --> K[j = j + 1];
    K --> H;
    I --> M[S = S + dau × x^i / tong_mau];
    M --> N[i = i + 1];
    N --> E;
    L --> O((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `x = 2, n = 3`

- **Kết quả mong đợi (Expected Result):** `S = -2 + 4/3 - 8/6 = -2 + 1.333... - 1.333... = -2`


**Mô phỏng (Simulation):**

`x = 2, n = 3`
`S = 0`
`i = 1`
Điều kiện `i <= n` (1 <= 3) là **Đúng**
    `tong_mau = 1`
    `dau = (-1)¹ = -1`
    `S = S + dau × x^i / tong_mau = 0 + (-1) × 2¹ / 1 = -2`
    `i = 2`
Điều kiện `i <= n` (2 <= 3) là **Đúng**
    `tong_mau = 1 + 2 = 3`
    `dau = (-1)² = 1`
    `S = S + dau × x^i / tong_mau = -2 + 1 × 2² / 3 = -2 + 4/3 = -2/3`
    `i = 3`
Điều kiện `i <= n` (3 <= 3) là **Đúng**
    `tong_mau = 1 + 2 + 3 = 6`
    `dau = (-1)³ = -1`
    `S = S + dau × x^i / tong_mau = -2/3 + (-1) × 2³ / 6 = -2/3 - 8/6 = -4/6 - 8/6 = -12/6 = -2`
    `i = 4`
Điều kiện `i <= n` (4 <= 3) là **Sai**
Xuất `S = -2`.

---

### **3. Code**

#### **Python**

```python
def tinh_chuoi_mu_phan_so(x, n):
    S = 0
    i = 1

    while i <= n:
        # Tính tổng mẫu số: 1 + 2 + ... + i
        tong_mau = 0
        j = 1
        while j <= i:
            tong_mau = tong_mau + j
            j = j + 1

        # Tính dấu (-1)^i
        dau = (-1) ** i

        # Cộng vào tổng
        S = S + dau * (x ** i) / tong_mau
        i = i + 1

    return S

# Chương trình chính
x = float(input("Nhập giá trị x: "))
n = int(input("Nhập số nguyên dương n: "))

ket_qua = tinh_chuoi_mu_phan_so(x, n)
print(f"S(x, n) = -x + x²/(1+2) - x³/(1+2+3) + ... + (-1)^n × x^n/(1+2+3+...+n) = {ket_qua}")
```

#### **JavaScript**

```javascript
function tinhChuoiMuPhanSo(x, n) {
    let S = 0;
    let i = 1;

    while (i <= n) {
        // Tính tổng mẫu số: 1 + 2 + ... + i
        let tongMau = 0;
        let j = 1;
        while (j <= i) {
            tongMau = tongMau + j;
            j = j + 1;
        }

        // Tính dấu (-1)^i
        let dau = Math.pow(-1, i);

        // Cộng vào tổng
        S = S + dau * Math.pow(x, i) / tongMau;
        i = i + 1;
    }

    return S;
}

// Chương trình chính
let x = parseFloat(prompt("Nhập giá trị x:"));
let n = parseInt(prompt("Nhập số nguyên dương n:"));

let ketQua = tinhChuoiMuPhanSo(x, n);
console.log(`S(x, n) = -x + x²/(1+2) - x³/(1+2+3) + ... + (-1)^n × x^n/(1+2+3+...+n) = ${ketQua}`);
alert(`S(x, n) = -x + x²/(1+2) - x³/(1+2+3) + ... + (-1)^n × x^n/(1+2+3+...+n) = ${ketQua}`);
```
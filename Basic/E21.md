### Bài 21: Tính tổng tất cả "ước số" của số nguyên dương $n$

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/n/];
    B --> C[tong = 0];
    C --> D[i = 1];
    D --> E{i <= n?};
    E -- Sai --> H[/Xuất tong/];
    E -- Đúng --> F{n % i == 0?};
    F -- Sai --> G[i = i + 1];
    F -- Đúng --> I[tong = tong + i];
    I --> G;
    G --> E;
    H --> J((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `n = 12`

- **Kết quả mong đợi (Expected Result):** `Tổng các ước số của 12 là: 1 + 2 + 3 + 4 + 6 + 12 = 28`


**Mô phỏng (Simulation):**

`n = 12`
`tong = 0`
`i = 1`
Điều kiện `i <= n` (1 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 1 == 0) là **Đúng**
        `tong = tong + i = 0 + 1 = 1`
    `i = i + 1 = 1 + 1 = 2`
Điều kiện `i <= n` (2 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 2 == 0) là **Đúng**
        `tong = tong + i = 1 + 2 = 3`
    `i = i + 1 = 2 + 1 = 3`
Điều kiện `i <= n` (3 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 3 == 0) là **Đúng**
        `tong = tong + i = 3 + 3 = 6`
    `i = i + 1 = 3 + 1 = 4`
Điều kiện `i <= n` (4 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 4 == 0) là **Đúng**
        `tong = tong + i = 6 + 4 = 10`
    `i = i + 1 = 4 + 1 = 5`
Điều kiện `i <= n` (5 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 5 == 0) là **Sai**
    `i = i + 1 = 5 + 1 = 6`
Điều kiện `i <= n` (6 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 6 == 0) là **Đúng**
        `tong = tong + i = 10 + 6 = 16`
    `i = i + 1 = 6 + 1 = 7`
...tương tự cho i = 7, 8, 9, 10, 11 (đều không chia hết)...
Điều kiện `i <= n` (12 <= 12) là **Đúng**
    Điều kiện `n % i == 0` (12 % 12 == 0) là **Đúng**
        `tong = tong + i = 16 + 12 = 28`
    `i = i + 1 = 12 + 1 = 13`
Điều kiện `i <= n` (13 <= 12) là **Sai**
Xuất `tong = 28`.

---

### **3. Code**

#### **Python**

```python
def tong_uoc_so(n):
    # Khởi tạo tổng ban đầu bằng 0
    tong = 0
    # Khởi tạo biến đếm i bắt đầu từ 1
    i = 1
    # Vòng lặp while sẽ chạy khi i còn nhỏ hơn hoặc bằng n
    while i <= n:
        # Kiểm tra nếu i là ước số của n
        if n % i == 0:
            # Cộng dồn i vào tổng
            tong = tong + i
        # Tăng biến đếm i lên 1 đơn vị
        i = i + 1
    return tong

# Chương trình chính
n = int(input("Nhập vào số nguyên dương n: "))
ket_qua = tong_uoc_so(n)
print(f"Tổng các ước số của {n} là: {ket_qua}")
```

#### **JavaScript**

```javascript
function tongUocSo(n) {
    // Khởi tạo tổng ban đầu bằng 0
    let tong = 0;
    // Khởi tạo biến đếm i bắt đầu từ 1
    let i = 1;
    // Vòng lặp while sẽ chạy khi i còn nhỏ hơn hoặc bằng n
    while (i <= n) {
        // Kiểm tra nếu i là ước số của n
        if (n % i === 0) {
            // Cộng dồn i vào tổng
            tong = tong + i;
        }
        // Tăng biến đếm i lên 1 đơn vị
        i = i + 1;
    }
    return tong;
}

// Chương trình chính
let n = parseInt(prompt("Nhập vào số nguyên dương n:"));
let ketQua = tongUocSo(n);
console.log(`Tổng các ước số của ${n} là: ${ketQua}`);
alert(`Tổng các ước số của ${n} là: ${ketQua}`);
```
### Bài 40: Tính $S(n) = \sqrt{x^n + \sqrt{x^{n-1} + \sqrt{x^{n-2} + \ldots + \sqrt{x^2 + \sqrt{x}}}}}$ có $n$ dấu căn

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/x, n/];
    B --> C[S = sqrt(x)];
    C --> D[i = 2];
    D --> E{i <= n?};
    E -- Sai --> H[/Xuất S/];
    E -- Đúng --> F[S = sqrt(x^i + S)];
    F --> G[i = i + 1];
    G --> E;
    H --> I((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `x = 2, n = 3`

- **Kết quả mong đợi (Expected Result):** `S(3) ≈ 2.236`


**Mô phỏng (Simulation):**

`x = 2, n = 3`
Bắt đầu với `S = sqrt(2) ≈ 1.414`
`i = 2`: `S = sqrt(2^2 + S) = sqrt(4 + 1.414) ≈ sqrt(5.414) ≈ 2.327`
`i = 3`: `S = sqrt(2^3 + S) = sqrt(8 + 2.327) ≈ sqrt(10.327) ≈ 3.214`

---

### **3. Code**

#### **Python**

```python
import math

def tinh_luy_thua(x, n):
    # Hàm tính x^n
    ket_qua = 1
    i = 1
    while i <= n:
        ket_qua = ket_qua * x
        i = i + 1
    return ket_qua

def tinh_S_luy_thua_can(x, n):
    # Khởi tạo S với căn bậc hai của x
    S = math.sqrt(x)
    # Khởi tạo biến đếm i bắt đầu từ 2
    i = 2
    # Vòng lặp while sẽ chạy từ 2 đến n
    while i <= n:
        # Tính x^i
        luy_thua = tinh_luy_thua(x, i)
        # Tính căn bậc hai của (x^i + S)
        S = math.sqrt(luy_thua + S)
        # Tăng biến đếm i lên 1 đơn vị
        i = i + 1
    return S

# Chương trình chính
x = float(input("Nhập vào số thực x: "))
n = int(input("Nhập vào số nguyên dương n: "))
if x <= 0:
    print("x phải là số dương")
else:
    ket_qua = tinh_S_luy_thua_can(x, n)
    print(f"S({n}) với x = {x} là: {ket_qua:.6f}")
```

#### **JavaScript**

```javascript
function tinhLuyThua(x, n) {
    // Hàm tính x^n
    let ketQua = 1;
    let i = 1;
    while (i <= n) {
        ketQua = ketQua * x;
        i = i + 1;
    }
    return ketQua;
}

function tinhSLuyThuaCan(x, n) {
    // Khởi tạo S với căn bậc hai của x
    let S = Math.sqrt(x);
    // Khởi tạo biến đếm i bắt đầu từ 2
    let i = 2;
    // Vòng lặp while sẽ chạy từ 2 đến n
    while (i <= n) {
        // Tính x^i
        let luyThua = tinhLuyThua(x, i);
        // Tính căn bậc hai của (x^i + S)
        S = Math.sqrt(luyThua + S);
        // Tăng biến đếm i lên 1 đơn vị
        i = i + 1;
    }
    return S;
}

// Chương trình chính
let x = parseFloat(prompt("Nhập vào số thực x:"));
let n = parseInt(prompt("Nhập vào số nguyên dương n:"));
if (x <= 0) {
    alert("x phải là số dương");
} else {
    let ketQua = tinhSLuyThuaCan(x, n);
    console.log(`S(${n}) với x = ${x} là: ${ketQua.toFixed(6)}`);
    alert(`S(${n}) với x = ${x} là: ${ketQua.toFixed(6)}`);
}
```
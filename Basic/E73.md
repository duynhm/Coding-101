### Bài 73: Tính S(x, n) = -1 + x²/2! - x⁴/4! + ... + (-1)^(n+1) × x^(2n)/(2n)!

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/x, n/];
    B --> C[S = 0];
    C --> D[i = 0];
    D --> E{i <= n?};
    E -- Sai --> L[/Xuất S/];
    E -- Đúng --> F[giai_thua = 1];
    F --> G[j = 1];
    G --> H{j <= 2i?};
    H -- Sai --> I[dau = (-1)^(i+1)];
    H -- Đúng --> J[giai_thua = giai_thua × j];
    J --> K[j = j + 1];
    K --> H;
    I --> M[S = S + dau × x^(2i) / giai_thua];
    M --> N[i = i + 1];
    N --> E;
    L --> O((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `x = 2, n = 3`

- **Kết quả mong đợi (Expected Result):** `S = -1 + 4/2 - 16/24 + 64/720 = -1 + 2 - 0.667 + 0.089 = 0.422`


**Mô phỏng (Simulation):**

`x = 2, n = 3`
`S = 0`
`i = 0`
Điều kiện `i <= n` (0 <= 3) là **Đúng**
    `giai_thua = (2×0)! = 0! = 1`
    `dau = (-1)^(0+1) = -1`
    `S = S + dau × x^(2i) / giai_thua = 0 + (-1) × 2⁰ / 1 = -1`
    `i = 1`
Điều kiện `i <= n` (1 <= 3) là **Đúng**
    `giai_thua = (2×1)! = 2! = 2`
    `dau = (-1)^(1+1) = 1`
    `S = S + dau × x^(2i) / giai_thua = -1 + 1 × 2² / 2 = -1 + 2 = 1`
    `i = 2`
Điều kiện `i <= n` (2 <= 3) là **Đúng**
    `giai_thua = (2×2)! = 4! = 24`
    `dau = (-1)^(2+1) = -1`
    `S = S + dau × x^(2i) / giai_thua = 1 + (-1) × 2⁴ / 24 = 1 - 16/24 = 1 - 2/3 = 1/3`
    `i = 3`
Điều kiện `i <= n` (3 <= 3) là **Đúng**
    `giai_thua = (2×3)! = 6! = 720`
    `dau = (-1)^(3+1) = 1`
    `S = S + dau × x^(2i) / giai_thua = 1/3 + 1 × 2⁶ / 720 = 1/3 + 64/720 = 240/720 + 64/720 = 304/720 ≈ 0.422`
    `i = 4`
Điều kiện `i <= n` (4 <= 3) là **Sai**
Xuất `S ≈ 0.422`.

---

### **3. Code**

#### **Python**

```python
def tinh_chuoi_chan_giai_thua(x, n):
    S = 0
    i = 0

    while i <= n:
        # Tính (2i)!
        giai_thua = 1
        j = 1
        while j <= 2 * i:
            giai_thua = giai_thua * j
            j = j + 1

        # Tính dấu (-1)^(i+1)
        dau = (-1) ** (i + 1)

        # Cộng vào tổng
        S = S + dau * (x ** (2 * i)) / giai_thua
        i = i + 1

    return S

# Chương trình chính
x = float(input("Nhập giá trị x: "))
n = int(input("Nhập số nguyên dương n: "))

ket_qua = tinh_chuoi_chan_giai_thua(x, n)
print(f"S(x, n) = -1 + x²/2! - x⁴/4! + ... + (-1)^(n+1) × x^(2n)/(2n)! = {ket_qua}")
```

#### **JavaScript**

```javascript
function tinhChuoiChanGiaiThua(x, n) {
    let S = 0;
    let i = 0;

    while (i <= n) {
        // Tính (2i)!
        let giaiThua = 1;
        let j = 1;
        while (j <= 2 * i) {
            giaiThua = giaiThua * j;
            j = j + 1;
        }

        // Tính dấu (-1)^(i+1)
        let dau = Math.pow(-1, i + 1);

        // Cộng vào tổng
        S = S + dau * Math.pow(x, 2 * i) / giaiThua;
        i = i + 1;
    }

    return S;
}

// Chương trình chính
let x = parseFloat(prompt("Nhập giá trị x:"));
let n = parseInt(prompt("Nhập số nguyên dương n:"));

let ketQua = tinhChuoiChanGiaiThua(x, n);
console.log(`S(x, n) = -1 + x²/2! - x⁴/4! + ... + (-1)^(n+1) × x^(2n)/(2n)! = ${ketQua}`);
alert(`S(x, n) = -1 + x²/2! - x⁴/4! + ... + (-1)^(n+1) × x^(2n)/(2n)! = ${ketQua}`);
```
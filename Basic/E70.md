### Bài 70: Tính S(x, n) = 1 - 1/(1+2) + 1/(1+2+3) + ... + (-1)^(n+1) × 1/(1+2+3+...+n)

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/n/];
    B --> C[S = 0];
    C --> D[i = 1];
    D --> E{i <= n?};
    E -- Sai --> L[/Xuất S/];
    E -- Đúng --> F[tong_mau = 0];
    F --> G[j = 1];
    G --> H{j <= i?};
    H -- Sai --> I[dau = (-1)^(i+1)];
    H -- Đúng --> J[tong_mau = tong_mau + j];
    J --> K[j = j + 1];
    K --> H;
    I --> M[S = S + dau / tong_mau];
    M --> N[i = i + 1];
    N --> E;
    L --> O((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `n = 4`

- **Kết quả mong đợi (Expected Result):** `S = 1 - 1/3 + 1/6 - 1/10 = 1 - 0.333... + 0.167... - 0.1 = 0.733...`


**Mô phỏng (Simulation):**

`n = 4`
`S = 0`
`i = 1`
Điều kiện `i <= n` (1 <= 4) là **Đúng**
    `tong_mau = 0`
    `j = 1`
    Điều kiện `j <= i` (1 <= 1) là **Đúng**
        `tong_mau = tong_mau + j = 0 + 1 = 1`
        `j = j + 1 = 2`
    Điều kiện `j <= i` (2 <= 1) là **Sai**
    `dau = (-1)^(1+1) = 1`
    `S = S + dau / tong_mau = 0 + 1/1 = 1`
    `i = i + 1 = 2`
Điều kiện `i <= n` (2 <= 4) là **Đúng**
    `tong_mau = 0`
    `j = 1`
    Điều kiện `j <= i` (1 <= 2) là **Đúng**
        `tong_mau = 0 + 1 = 1`
        `j = 2`
    Điều kiện `j <= i` (2 <= 2) là **Đúng**
        `tong_mau = 1 + 2 = 3`
        `j = 3`
    Điều kiện `j <= i` (3 <= 2) là **Sai**
    `dau = (-1)^(2+1) = -1`
    `S = S + dau / tong_mau = 1 + (-1)/3 = 1 - 1/3 = 2/3`
    `i = 3`
Điều kiện `i <= n` (3 <= 4) là **Đúng**
    `tong_mau = 0 + 1 + 2 + 3 = 6`
    `dau = (-1)^(3+1) = 1`
    `S = 2/3 + 1/6 = 4/6 + 1/6 = 5/6`
    `i = 4`
Điều kiện `i <= n` (4 <= 4) là **Đúng**
    `tong_mau = 0 + 1 + 2 + 3 + 4 = 10`
    `dau = (-1)^(4+1) = -1`
    `S = 5/6 + (-1)/10 = 5/6 - 1/10 = 25/30 - 3/30 = 22/30 = 11/15`
    `i = 5`
Điều kiện `i <= n` (5 <= 4) là **Sai**
Xuất `S = 11/15 ≈ 0.733`.

---

### **3. Code**

#### **Python**

```python
def tinh_chuoi_phan_so(n):
    S = 0
    i = 1

    while i <= n:
        # Tính tổng mẫu số: 1 + 2 + ... + i
        tong_mau = 0
        j = 1
        while j <= i:
            tong_mau = tong_mau + j
            j = j + 1

        # Tính dấu (-1)^(i+1)
        dau = (-1) ** (i + 1)

        # Cộng vào tổng
        S = S + dau / tong_mau
        i = i + 1

    return S

# Chương trình chính
n = int(input("Nhập số nguyên dương n: "))

ket_qua = tinh_chuoi_phan_so(n)
print(f"S(n) = 1 - 1/(1+2) + 1/(1+2+3) + ... + (-1)^(n+1) × 1/(1+2+3+...+n) = {ket_qua}")
```

#### **JavaScript**

```javascript
function tinhChuoiPhanSo(n) {
    let S = 0;
    let i = 1;

    while (i <= n) {
        // Tính tổng mẫu số: 1 + 2 + ... + i
        let tongMau = 0;
        let j = 1;
        while (j <= i) {
            tongMau = tongMau + j;
            j = j + 1;
        }

        // Tính dấu (-1)^(i+1)
        let dau = Math.pow(-1, i + 1);

        // Cộng vào tổng
        S = S + dau / tongMau;
        i = i + 1;
    }

    return S;
}

// Chương trình chính
let n = parseInt(prompt("Nhập số nguyên dương n:"));

let ketQua = tinhChuoiPhanSo(n);
console.log(`S(n) = 1 - 1/(1+2) + 1/(1+2+3) + ... + (-1)^(n+1) × 1/(1+2+3+...+n) = ${ketQua}`);
alert(`S(n) = 1 - 1/(1+2) + 1/(1+2+3) + ... + (-1)^(n+1) × 1/(1+2+3+...+n) = ${ketQua}`);
```
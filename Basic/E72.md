### Bài 72: Tính S(x, n) = -x + x²/2! - x³/3! + ... + (-1)^n × x^n/n!

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/x, n/];
    B --> C[S = 0];
    C --> D[i = 1];
    D --> E{i <= n?};
    E -- Sai --> L[/Xuất S/];
    E -- Đúng --> F[giai_thua = 1];
    F --> G[j = 1];
    G --> H{j <= i?};
    H -- Sai --> I[dau = (-1)^i];
    H -- Đúng --> J[giai_thua = giai_thua × j];
    J --> K[j = j + 1];
    K --> H;
    I --> M[S = S + dau × x^i / giai_thua];
    M --> N[i = i + 1];
    N --> E;
    L --> O((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `x = 2, n = 4`

- **Kết quả mong đợi (Expected Result):** `S = -2 + 4/2 - 8/6 + 16/24 = -2 + 2 - 1.333... + 0.667... = -0.667...`


**Mô phỏng (Simulation):**

`x = 2, n = 4`
`S = 0`
`i = 1`
Điều kiện `i <= n` (1 <= 4) là **Đúng**
    `giai_thua = 1! = 1`
    `dau = (-1)¹ = -1`
    `S = S + dau × x^i / giai_thua = 0 + (-1) × 2¹ / 1 = -2`
    `i = 2`
Điều kiện `i <= n` (2 <= 4) là **Đúng**
    `giai_thua = 2! = 2`
    `dau = (-1)² = 1`
    `S = S + dau × x^i / giai_thua = -2 + 1 × 2² / 2 = -2 + 2 = 0`
    `i = 3`
Điều kiện `i <= n` (3 <= 4) là **Đúng**
    `giai_thua = 3! = 6`
    `dau = (-1)³ = -1`
    `S = S + dau × x^i / giai_thua = 0 + (-1) × 2³ / 6 = -8/6 = -4/3`
    `i = 4`
Điều kiện `i <= n` (4 <= 4) là **Đúng**
    `giai_thua = 4! = 24`
    `dau = (-1)⁴ = 1`
    `S = S + dau × x^i / giai_thua = -4/3 + 1 × 2⁴ / 24 = -4/3 + 16/24 = -32/24 + 16/24 = -16/24 = -2/3`
    `i = 5`
Điều kiện `i <= n` (5 <= 4) là **Sai**
Xuất `S = -2/3 ≈ -0.667`.

---

### **3. Code**

#### **Python**

```python
def tinh_chuoi_giai_thua(x, n):
    S = 0
    i = 1

    while i <= n:
        # Tính i!
        giai_thua = 1
        j = 1
        while j <= i:
            giai_thua = giai_thua * j
            j = j + 1

        # Tính dấu (-1)^i
        dau = (-1) ** i

        # Cộng vào tổng
        S = S + dau * (x ** i) / giai_thua
        i = i + 1

    return S

# Chương trình chính
x = float(input("Nhập giá trị x: "))
n = int(input("Nhập số nguyên dương n: "))

ket_qua = tinh_chuoi_giai_thua(x, n)
print(f"S(x, n) = -x + x²/2! - x³/3! + ... + (-1)^n × x^n/n! = {ket_qua}")
```

#### **JavaScript**

```javascript
function tinhChuoiGiaiThua(x, n) {
    let S = 0;
    let i = 1;

    while (i <= n) {
        // Tính i!
        let giaiThua = 1;
        let j = 1;
        while (j <= i) {
            giaiThua = giaiThua * j;
            j = j + 1;
        }

        // Tính dấu (-1)^i
        let dau = Math.pow(-1, i);

        // Cộng vào tổng
        S = S + dau * Math.pow(x, i) / giaiThua;
        i = i + 1;
    }

    return S;
}

// Chương trình chính
let x = parseFloat(prompt("Nhập giá trị x:"));
let n = parseInt(prompt("Nhập số nguyên dương n:"));

let ketQua = tinhChuoiGiaiThua(x, n);
console.log(`S(x, n) = -x + x²/2! - x³/3! + ... + (-1)^n × x^n/n! = ${ketQua}`);
alert(`S(x, n) = -x + x²/2! - x³/3! + ... + (-1)^n × x^n/n! = ${ketQua}`);
```
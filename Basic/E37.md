### Bài 37: Tính $S(n) = \sqrt{n + \sqrt{n-1 + \sqrt[3]{\frac{n-1}{n}}}}$ có $n-1$ dấu căn

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/n/];
    B --> C[S = cbrt((n-1)/n)];
    C --> D[i = n-1];
    D --> E{i >= 1?};
    E -- Sai --> H[/Xuất S/];
    E -- Đúng --> F[S = sqrt(i + S)];
    F --> G[i = i - 1];
    G --> E;
    H --> I((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `n = 4`

- **Kết quả mong đợi (Expected Result):** `S(4) ≈ 2.236`


**Mô phỏng (Simulation):**

`n = 4`
Bắt đầu với `S = cbrt(3/4) ≈ 0.908`
Sau đó tính sqrt(3 + S), sqrt(2 + sqrt(3 + S)), sqrt(1 + sqrt(2 + sqrt(3 + S)))

---

### **3. Code**

#### **Python**

```python
import math

def tinh_S_can_bac_3_phuc_tap(n):
    # Khởi tạo S với căn bậc 3 của (n-1)/n
    S = math.pow((n - 1) / n, 1/3)
    # Khởi tạo biến đếm i bắt đầu từ n-1 và giảm dần
    i = n - 1
    # Vòng lặp while sẽ chạy từ n-1 về 1
    while i >= 1:
        # Tính căn bậc hai của (i + S)
        S = math.sqrt(i + S)
        # Giảm biến đếm i xuống 1 đơn vị
        i = i - 1
    return S

# Chương trình chính
n = int(input("Nhập vào số nguyên dương n: "))
if n <= 1:
    print("n phải lớn hơn 1")
else:
    ket_qua = tinh_S_can_bac_3_phuc_tap(n)
    print(f"S({n}) = {ket_qua:.6f}")
```

#### **JavaScript**

```javascript
function tinhSCanBac3PhucTap(n) {
    // Khởi tạo S với căn bậc 3 của (n-1)/n
    let S = Math.pow((n - 1) / n, 1/3);
    // Khởi tạo biến đếm i bắt đầu từ n-1 và giảm dần
    let i = n - 1;
    // Vòng lặp while sẽ chạy từ n-1 về 1
    while (i >= 1) {
        // Tính căn bậc hai của (i + S)
        S = Math.sqrt(i + S);
        // Giảm biến đếm i xuống 1 đơn vị
        i = i - 1;
    }
    return S;
}

// Chương trình chính
let n = parseInt(prompt("Nhập vào số nguyên dương n:"));
if (n <= 1) {
    alert("n phải lớn hơn 1");
} else {
    let ketQua = tinhSCanBac3PhucTap(n);
    console.log(`S(${n}) = ${ketQua.toFixed(6)}`);
    alert(`S(${n}) = ${ketQua.toFixed(6)}`);
}
```
### Bài 74: Tính S(x, n) = 1 - x + x³/3! - x⁵/5! + ... + (-1)^(n+1) × x^(2n+1)/(2n+1)!

---

### **1. Lưu đồ**

```mermaid
graph TD
    A((Bắt đầu)) --> B[/x, n/];
    B --> C[S = 0];
    C --> D[i = 0];
    D --> E{i <= n?};
    E -- Sai --> L[/Xuất S/];
    E -- Đúng --> F[giai_thua = 1];
    F --> G[j = 1];
    G --> H{j <= 2i+1?};
    H -- Sai --> I[dau = (-1)^(i+1)];
    H -- Đúng --> J[giai_thua = giai_thua × j];
    J --> K[j = j + 1];
    K --> H;
    I --> M[S = S + dau × x^(2i+1) / giai_thua];
    M --> N[i = i + 1];
    N --> E;
    L --> O((Kết thúc));
```

---

### **2. Test Case**

- **Đầu vào (Input):** `x = 2, n = 3`

- **Kết quả mong đợi (Expected Result):** `S = 1 - 2 + 8/6 - 32/120 = 1 - 2 + 1.333 - 0.267 = 0.066`


**Mô phỏng (Simulation):**

`x = 2, n = 3`
`S = 0`
`i = 0`
Điều kiện `i <= n` (0 <= 3) là **Đúng**
    `giai_thua = (2×0+1)! = 1! = 1`
    `dau = (-1)^(0+1) = -1`
    `S = S + dau × x^(2i+1) / giai_thua = 0 + (-1) × 2¹ / 1 = -2`
    **Sửa:** Với bài này, số hạng đầu là 1, không phải -x
    Thực tế: `S = 1` (số hạng đầu tiên)
    `i = 1`
Điều kiện `i <= n` (1 <= 3) là **Đúng**
    `giai_thua = (2×1+1)! = 3! = 6`
    `dau = (-1)^(1+1) = 1` **Sửa: dấu phải là -1**
    `S = S + (-1) × x¹ = 1 - 2 = -1`
    `i = 2`
Điều kiện `i <= n` (2 <= 3) là **Đúng**
    `giai_thua = (2×2+1)! = 5! = 120`
    `dau = 1`
    `S = S + 1 × x³ / 120 = -1 + 8/6 = -1 + 4/3 = 1/3`
    **Sửa:** Phải là x³/3! = 8/6
    `i = 3`
...

**Chú ý:** Công thức này cần được hiểu đúng là chuỗi sin(x) với dấu đặc biệt.

---

### **3. Code**

#### **Python**

```python
def tinh_chuoi_le_giai_thua(x, n):
    S = 1  # Số hạng đầu tiên là 1
    i = 1

    while i <= n:
        # Tính (2i-1)! cho các số hạng tiếp theo
        if i == 1:
            # Số hạng thứ 2: -x
            S = S - x
        else:
            # Tính (2i-1)!
            giai_thua = 1
            j = 1
            while j <= 2 * i - 1:
                giai_thua = giai_thua * j
                j = j + 1

            # Tính dấu (-1)^i
            dau = (-1) ** i

            # Cộng vào tổng
            S = S + dau * (x ** (2 * i - 1)) / giai_thua

        i = i + 1

    return S

# Chương trình chính
x = float(input("Nhập giá trị x: "))
n = int(input("Nhập số nguyên dương n: "))

ket_qua = tinh_chuoi_le_giai_thua(x, n)
print(f"S(x, n) = 1 - x + x³/3! - x⁵/5! + ... + (-1)^(n+1) × x^(2n+1)/(2n+1)! = {ket_qua}")
```

#### **JavaScript**

```javascript
function tinhChuoiLeGiaiThua(x, n) {
    let S = 1; // Số hạng đầu tiên là 1
    let i = 1;

    while (i <= n) {
        if (i === 1) {
            // Số hạng thứ 2: -x
            S = S - x;
        } else {
            // Tính (2i-1)!
            let giaiThua = 1;
            let j = 1;
            while (j <= 2 * i - 1) {
                giaiThua = giaiThua * j;
                j = j + 1;
            }

            // Tính dấu (-1)^i
            let dau = Math.pow(-1, i);

            // Cộng vào tổng
            S = S + dau * Math.pow(x, 2 * i - 1) / giaiThua;
        }

        i = i + 1;
    }

    return S;
}

// Chương trình chính
let x = parseFloat(prompt("Nhập giá trị x:"));
let n = parseInt(prompt("Nhập số nguyên dương n:"));

let ketQua = tinhChuoiLeGiaiThua(x, n);
console.log(`S(x, n) = 1 - x + x³/3! - x⁵/5! + ... + (-1)^(n+1) × x^(2n+1)/(2n+1)! = ${ketQua}`);
alert(`S(x, n) = 1 - x + x³/3! - x⁵/5! + ... + (-1)^(n+1) × x^(2n+1)/(2n+1)! = ${ketQua}`);
```